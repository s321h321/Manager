<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>dataTables Demo</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="${base}/css/bootstrap/bootstrap.css">
<!--[if lte IE 9]>
	<script src="${base}/js/respond.min.js"></script>
	<script src="${base}/js/html5shiv.js"></script>
	<![endif]-->
</head>
<body>

	<div class="panel panel-default">
		<!-- Default panel contents -->
		<div class="panel-heading">
			<label>职务:</label> <select>
				<option>选择职务:</option>
				<option>IT</option>
				<option>行政</option>
				<option>销售</option>
				<option>民工</option>
			</select> <label>姓名:</label><input type="text"> <input
				class="input-medium search-query" type="text" />
			<button class="btn" contenteditable="true" type="submit">查找</button>
		</div>
		<table id="usertable" class="table table-bordered table-condensed">
			<thead>
				<tr>
					<th>用户名</th>
					<th>职务</th>
					<th>操作人</th>
					<th>入职时间</th>
					<th>姓名</th>
					<th>创建时间</th>
				</tr>
			</thead>
			<tbody>

			</tbody>
		</table>
	</div>
	<div class="panel-footer">
		第1页,共10页,每页显示10条,共100条 <select class="select">
			<option>10</option>
			<option>20</option>
			<option>30</option>
			<option>50</option>
			<option>100</option>
		</select>
		<ul id="pagin" class="pagination pagination-sm"
			style="float: right; position: relative; top: -23px">
			<li><a id="pre" href="#">${i18n("page.previous")} </a></li>
			<li class="active"><a href="#">1</a></li>
			<li><a href="#">2</a></li>
			<li><a href="#">3</a></li>
			<li><a href="#">4</a></li>
			<li><a href="#">5</a></li>
			<li><a id="next" href="#">${i18n("page.next")} </a></li>
		</ul>
	</div>
	<script src="${base}/lib/jquery/jquery-1.11.1.min.js"></script>
	<script src="${base}/lib/bootstrap/bootstrap.min.js"></script>
	<script type="text/javascript">
		$(document).ready(
				function() {
					function pagination(pagname,num) {
						$("#pagin li").each(function() {
							if("pre"==pagname){
								if($(this).attr("id")!="pre"&&(num-1)==$(this).text()){
									$(this).addClass("active");
								}
								return;
							}else if("next"==pagname){
								if($(this).attr("id")!="next"&&(num*1+1*1)==$(this).text()){
									$(this).addClass("active");
								}
								return;
							}
							
						});
					}
					$("#pagin li a").click(
							function() {
								var num = $("#pagin li.active").text();
								var reg = new RegExp("^[0-9]*$", "g");
								if ($(this).attr("id") == "pre") {
									if (num == 1) {
										return;
									}
									$("#pagin li.active").removeClass();
									pagination("pre",num);
								} else if ($(this).attr("id") == "next") {
									if (num %5==0) {
										return;
									}
									$("#pagin li.active").removeClass();
									pagination("next",num);
								} else {

									if (reg.test($(this).text())) {
										$(".pagination li").removeClass();
										$(this).parent().addClass("active");
									}
								}

							});

					$.ajax({
						url : "${base}/userInfo/pages/1-10",
						dataType : "json",
						success : function(data) {
							var userlist = data.userpages.list;
							var htmlcontent = "";
							for (i = 0; i < userlist.length; i++) {
								htmlcontent += "<tr> <td>"
										+ userlist[i].tu_username + "</td>";
								htmlcontent += "<td>" + userlist[i].tp_name
										+ "</td>";
								htmlcontent += "<td>"
										+ userlist[i].operation_name + "</td>";
								htmlcontent += "<td>"
										+ userlist[i].tu_entry_time + "</td>";
								htmlcontent += "<td>" + userlist[i].tu_name
										+ "</td>";
								htmlcontent += "<td>"
										+ userlist[i].tu_createtime
										+ "</td></tr>";
							}
							$("#usertable tbody").append(htmlcontent);
						}
					});
				});
	</script>
</body>
</html>